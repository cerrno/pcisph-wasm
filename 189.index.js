"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[189,235,517],{235:(e,t,n)=>{n.r(t),n.d(t,{initThreadPool:()=>m,wbg_rayon_start_worker:()=>h,Simulation:()=>L,wbg_rayon_PoolBuilder:()=>W,default:()=>C});var r=n(517),a=n(731).TextDecoder,o=n(731).TextEncoder;let _;const i=new Array(32).fill(void 0);function c(e){return i[e]}i.push(void 0,null,!0,!1);let b=i.length;function u(e){const t=c(e);return function(e){e<36||(i[e]=b,b=e)}(e),t}let f=new a("utf-8",{ignoreBOM:!0,fatal:!0});f.decode();let s=null;function w(){return null!==s&&s.buffer===_.memory.buffer||(s=new Uint8Array(_.memory.buffer)),s}function g(e,t){return f.decode(w().slice(e,e+t))}function l(e){b===i.length&&i.push(i.length+1);const t=b;return b=i[t],i[t]=e,t}let d=32;function m(e){return u(_.initThreadPool(e))}function h(e){_.wbg_rayon_start_worker(e)}function y(e){return null==e}function p(e,t){try{return e.apply(this,t)}catch(e){_.__wbindgen_exn_store(l(e))}}let v=null;let A=0,P=new o("utf-8");function k(e,t,n){if(void 0===n){const n=P.encode(e),r=t(n.length);return w().subarray(r,r+n.length).set(n),A=n.length,r}let r=e.length,a=t(r);const o=w();let _=0;for(;_<r;_++){const t=e.charCodeAt(_);if(t>127)break;o[a+_]=t}return _!==r&&(0!==_&&(e=e.slice(_)),a=n(a,r,r=_+3*e.length),_+=function(e,t){const n=P.encode(e);return t.set(n),{read:e.length,written:n.length}}(e,w().subarray(a+_,a+r)).written),A=_,a}let S=null;function x(){return null!==S&&S.buffer===_.memory.buffer||(S=new Int32Array(_.memory.buffer)),S}class L{static __wrap(e){const t=Object.create(L.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();_.__wbg_simulation_free(e)}constructor(e){try{var t=_.simulation_new(function(e){if(1==d)throw new Error("out of js stack");return i[--d]=e,d}(e));return L.__wrap(t)}finally{i[d++]=void 0}}get_num_particles(){return _.simulation_get_num_particles(this.ptr)>>>0}step(){_.simulation_step(this.ptr)}add_block(){_.simulation_add_block(this.ptr)}reset(){_.simulation_reset(this.ptr)}}class W{static __wrap(e){const t=Object.create(W.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();_.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return _.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return _.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){_.wbg_rayon_poolbuilder_build(this.ptr)}}const C=async function e(t,a){void 0===t&&(t=new URL(n(275),n.b));const o={wbg:{}};o.wbg.__wbg_createShader_70c2825247d9bb97=function(e,t){var n=c(e).createShader(t>>>0);return y(n)?0:l(n)},o.wbg.__wbg_shaderSource_0282713eff6af0ca=function(e,t,n,r){c(e).shaderSource(c(t),g(n,r))},o.wbg.__wbg_compileShader_3ddec20e99320848=function(e,t){c(e).compileShader(c(t))},o.wbg.__wbg_getShaderParameter_5091dc35fcf38b9d=function(e,t,n){return l(c(e).getShaderParameter(c(t),n>>>0))},o.wbg.__wbindgen_boolean_get=function(e){const t=c(e);return"boolean"==typeof t?t?1:0:2},o.wbg.__wbindgen_object_drop_ref=function(e){u(e)},o.wbg.__wbg_getShaderInfoLog_b6460853f4c64bdf=function(e,t,n){var r=c(t).getShaderInfoLog(c(n)),a=y(r)?0:k(r,_.__wbindgen_malloc,_.__wbindgen_realloc),o=A;x()[e/4+1]=o,x()[e/4+0]=a},o.wbg.__wbg_setwidth_6ffbc02dcd566284=function(e,t){c(e).width=t>>>0},o.wbg.__wbg_setheight_dade0779787da2d7=function(e,t){c(e).height=t>>>0},o.wbg.__wbg_getContext_591a34067d6e74f2=function(){return p((function(e,t,n){var r=c(e).getContext(g(t,n));return y(r)?0:l(r)}),arguments)},o.wbg.__wbg_instanceof_WebGl2RenderingContext_10a94ffb664bd6d5=function(e){return c(e)instanceof WebGL2RenderingContext},o.wbg.__wbg_clearColor_44388fda47caba66=function(e,t,n,r,a){c(e).clearColor(t,n,r,a)},o.wbg.__wbindgen_string_new=function(e,t){return l(g(e,t))},o.wbg.__wbg_createProgram_0aaa2a1e9b6103f6=function(e){var t=c(e).createProgram();return y(t)?0:l(t)},o.wbg.__wbg_attachShader_61ac100e7a3e058a=function(e,t,n){c(e).attachShader(c(t),c(n))},o.wbg.__wbg_linkProgram_924d9caf43e92317=function(e,t){c(e).linkProgram(c(t))},o.wbg.__wbg_getProgramParameter_b00aaec6ffd1d021=function(e,t,n){return l(c(e).getProgramParameter(c(t),n>>>0))},o.wbg.__wbg_getProgramInfoLog_58fbd5b50bfa307d=function(e,t,n){var r=c(t).getProgramInfoLog(c(n)),a=y(r)?0:k(r,_.__wbindgen_malloc,_.__wbindgen_realloc),o=A;x()[e/4+1]=o,x()[e/4+0]=a},o.wbg.__wbg_useProgram_5a3c46f60003825b=function(e,t){c(e).useProgram(c(t))},o.wbg.__wbg_getUniformLocation_966502ffdeed5620=function(e,t,n,r){var a=c(e).getUniformLocation(c(t),g(n,r));return y(a)?0:l(a)},o.wbg.__wbg_uniformMatrix4fv_2fd88482216ecf40=function(e,t,n,r,a){var o,i;c(e).uniformMatrix4fv(c(t),0!==n,(o=r,i=a,(null!==v&&v.buffer===_.memory.buffer||(v=new Float32Array(_.memory.buffer)),v).subarray(o/4,o/4+i)))},o.wbg.__wbg_getAttribLocation_f4ed958a3726dc43=function(e,t,n,r){return c(e).getAttribLocation(c(t),g(n,r))},o.wbg.__wbg_createBuffer_ae524402a4cd2a15=function(e){var t=c(e).createBuffer();return y(t)?0:l(t)},o.wbg.__wbg_bindBuffer_d4ae25360cb2cfe9=function(e,t,n){c(e).bindBuffer(t>>>0,c(n))},o.wbg.__wbg_vertexAttribPointer_a11e6492ac983aa8=function(e,t,n,r,a,o,_){c(e).vertexAttribPointer(t>>>0,n,r>>>0,0!==a,o,_)},o.wbg.__wbg_enableVertexAttribArray_74e5805bc2159fe8=function(e,t){c(e).enableVertexAttribArray(t>>>0)},o.wbg.__wbindgen_memory=function(){return l(_.memory)},o.wbg.__wbg_buffer_79a3294266d4e783=function(e){return l(c(e).buffer)},o.wbg.__wbg_newwithbyteoffsetandlength_43381b9f511c0022=function(e,t,n){return l(new Float32Array(c(e),t>>>0,n>>>0))},o.wbg.__wbg_bufferData_cc607a102bc62ccf=function(e,t,n,r){c(e).bufferData(t>>>0,c(n),r>>>0)},o.wbg.__wbg_bufferSubData_5def831314bda4f1=function(e,t,n,r){c(e).bufferSubData(t>>>0,n,c(r))},o.wbg.__wbg_clear_693f3b2dec401560=function(e,t){c(e).clear(t>>>0)},o.wbg.__wbg_drawArrays_cf9e51d1f22511f9=function(e,t,n,r){c(e).drawArrays(t>>>0,n,r)},o.wbg.__wbindgen_throw=function(e,t){throw new Error(g(e,t))},o.wbg.__wbindgen_rethrow=function(e){throw u(e)},o.wbg.__wbindgen_module=function(){return l(e.__wbindgen_wasm_module)},o.wbg.__wbg_startWorkers_04f63eca19916b8f=function(e,t,n){return l((0,r.Q)(u(e),u(t),W.__wrap(n)))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),o.wbg.memory=a||new WebAssembly.Memory({initial:17,maximum:16384,shared:!0});const{instance:i,module:b}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,o);return _=i.exports,e.__wbindgen_wasm_module=b,_.__wbindgen_start(),_}},517:(e,t,n)=>{function r(e,t){return new Promise((n=>{e.addEventListener("message",(function r({data:a}){null!=a&&a.type===t&&(e.removeEventListener("message",r),n(a))}))}))}let a;async function o(e,t,o){const _={type:"wasm_bindgen_worker_init",module:e,memory:t,receiver:o.receiver()};a=await Promise.all(Array.from({length:o.numThreads()},(async()=>{const e=new Worker(new URL(n.p+n.u(517),n.b),{type:void 0});return e.postMessage(_),await r(e,"wasm_bindgen_worker_ready"),e}))),o.build()}n.d(t,{Q:()=>o}),r(self,"wasm_bindgen_worker_init").then((async e=>{const t=await Promise.all([n.e(731),n.e(235)]).then(n.bind(n,235));await t.default(e.module,e.memory),postMessage({type:"wasm_bindgen_worker_ready"}),t.wbg_rayon_start_worker(e.receiver)}))},275:(e,t,n)=>{e.exports=n.p+"dfa547c67b760994e418.wasm"}}]);