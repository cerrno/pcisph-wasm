"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[235],{235:(e,t,n)=>{n.r(t),n.d(t,{initThreadPool:()=>m,wbg_rayon_start_worker:()=>h,Simulation:()=>k,wbg_rayon_PoolBuilder:()=>x,default:()=>L});var r=n(517);let o;const _=new Array(32).fill(void 0);function a(e){return _[e]}_.push(void 0,null,!0,!1);let i=_.length;function c(e){const t=a(e);return function(e){e<36||(_[e]=i,i=e)}(e),t}let b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});b.decode();let u=null;function f(){return null!==u&&u.buffer===o.memory.buffer||(u=new Uint8Array(o.memory.buffer)),u}function s(e,t){return b.decode(f().slice(e,e+t))}function g(e){i===_.length&&_.push(_.length+1);const t=i;return i=_[t],_[t]=e,t}let w=32,d=null;function l(){return null!==d&&d.buffer===o.memory.buffer||(d=new Int32Array(o.memory.buffer)),d}function m(e){return c(o.initThreadPool(e))}function h(e){o.wbg_rayon_start_worker(e)}function y(e){return null==e}function p(e,t){try{return e.apply(this,t)}catch(e){o.__wbindgen_exn_store(g(e))}}let A=null;let v=0,P=new TextEncoder("utf-8");function S(e,t,n){if(void 0===n){const n=P.encode(e),r=t(n.length);return f().subarray(r,r+n.length).set(n),v=n.length,r}let r=e.length,o=t(r);const _=f();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;_[o+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),o=n(o,r,r=a+3*e.length);const t=function(e,t){const n=P.encode(e);return t.set(n),{read:e.length,written:n.length}}(e,f().subarray(o+a,o+r));a+=t.written}return v=a,o}class k{static __wrap(e){const t=Object.create(k.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_simulation_free(e)}constructor(e){try{const r=o.__wbindgen_add_to_stack_pointer(-16);o.simulation_new(r,function(e){if(1==w)throw new Error("out of js stack");return _[--w]=e,w}(e));var t=l()[r/4+0],n=l()[r/4+1];if(l()[r/4+2])throw c(n);return k.__wrap(t)}finally{o.__wbindgen_add_to_stack_pointer(16),_[w++]=void 0}}get_num_particles(){return o.simulation_get_num_particles(this.ptr)>>>0}step(){o.simulation_step(this.ptr)}add_block(){o.simulation_add_block(this.ptr)}reset(){o.simulation_reset(this.ptr)}}class x{static __wrap(e){const t=Object.create(x.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}const L=async function e(t,_){void 0===t&&(t=new URL(n(275),n.b));const i={wbg:{}};i.wbg.__wbg_createShader_03233922e9b5ebf2=function(e,t){var n=a(e).createShader(t>>>0);return y(n)?0:g(n)},i.wbg.__wbg_shaderSource_0066bb6817bf9e88=function(e,t,n,r){a(e).shaderSource(a(t),s(n,r))},i.wbg.__wbg_compileShader_e224e94272352503=function(e,t){a(e).compileShader(a(t))},i.wbg.__wbg_getShaderParameter_e5f7e371d4eec000=function(e,t,n){return g(a(e).getShaderParameter(a(t),n>>>0))},i.wbg.__wbindgen_boolean_get=function(e){const t=a(e);return"boolean"==typeof t?t?1:0:2},i.wbg.__wbindgen_object_drop_ref=function(e){c(e)},i.wbg.__wbg_getShaderInfoLog_5aab05280bd0fe1b=function(e,t,n){var r=a(t).getShaderInfoLog(a(n)),_=y(r)?0:S(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=v;l()[e/4+1]=i,l()[e/4+0]=_},i.wbg.__wbg_setwidth_362e8db8cbadbe96=function(e,t){a(e).width=t>>>0},i.wbg.__wbg_setheight_28f53831182cc410=function(e,t){a(e).height=t>>>0},i.wbg.__wbg_getContext_bd4e9445094eda84=function(){return p((function(e,t,n){var r=a(e).getContext(s(t,n));return y(r)?0:g(r)}),arguments)},i.wbg.__wbg_instanceof_WebGl2RenderingContext_df519ebc1fd4a55f=function(e){return a(e)instanceof WebGL2RenderingContext},i.wbg.__wbg_clearColor_d9d486c5ff20404c=function(e,t,n,r,o){a(e).clearColor(t,n,r,o)},i.wbg.__wbindgen_string_new=function(e,t){return g(s(e,t))},i.wbg.__wbg_createProgram_e9fa1d7669773667=function(e){var t=a(e).createProgram();return y(t)?0:g(t)},i.wbg.__wbg_attachShader_2e252ab2fda53d9b=function(e,t,n){a(e).attachShader(a(t),a(n))},i.wbg.__wbg_linkProgram_116382e2dc17af64=function(e,t){a(e).linkProgram(a(t))},i.wbg.__wbg_getProgramParameter_4b9d43902599c2d2=function(e,t,n){return g(a(e).getProgramParameter(a(t),n>>>0))},i.wbg.__wbg_getProgramInfoLog_dbd8d8cedcc8cdcc=function(e,t,n){var r=a(t).getProgramInfoLog(a(n)),_=y(r)?0:S(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=v;l()[e/4+1]=i,l()[e/4+0]=_},i.wbg.__wbg_useProgram_de22d1e01c430663=function(e,t){a(e).useProgram(a(t))},i.wbg.__wbg_getUniformLocation_9541edb0d39d1646=function(e,t,n,r){var o=a(e).getUniformLocation(a(t),s(n,r));return y(o)?0:g(o)},i.wbg.__wbg_uniformMatrix4fv_8752c8df4a82f43a=function(e,t,n,r,_){var i,c;a(e).uniformMatrix4fv(a(t),0!==n,(i=r,c=_,(null!==A&&A.buffer===o.memory.buffer||(A=new Float32Array(o.memory.buffer)),A).subarray(i/4,i/4+c)))},i.wbg.__wbg_getAttribLocation_7f79c73e983e47cd=function(e,t,n,r){return a(e).getAttribLocation(a(t),s(n,r))},i.wbg.__wbg_createBuffer_564dc1c3c3f058b7=function(e){var t=a(e).createBuffer();return y(t)?0:g(t)},i.wbg.__wbg_bindBuffer_612af2c0d1623df9=function(e,t,n){a(e).bindBuffer(t>>>0,a(n))},i.wbg.__wbg_vertexAttribPointer_4e139167926d5080=function(e,t,n,r,o,_,i){a(e).vertexAttribPointer(t>>>0,n,r>>>0,0!==o,_,i)},i.wbg.__wbg_enableVertexAttribArray_d1b2636395bdaa7a=function(e,t){a(e).enableVertexAttribArray(t>>>0)},i.wbg.__wbg_bufferData_17b90d9499ee7889=function(e,t,n,r){a(e).bufferData(t>>>0,a(n),r>>>0)},i.wbg.__wbindgen_memory=function(){return g(o.memory)},i.wbg.__wbg_buffer_5e74a88a1424a2e0=function(e){return g(a(e).buffer)},i.wbg.__wbg_newwithbyteoffsetandlength_ad2916c6fa7d4c6f=function(e,t,n){return g(new Float32Array(a(e),t>>>0,n>>>0))},i.wbg.__wbg_bufferSubData_ebe7e7da307cfecb=function(e,t,n,r){a(e).bufferSubData(t>>>0,n,a(r))},i.wbg.__wbg_clear_4c5eed385310e256=function(e,t){a(e).clear(t>>>0)},i.wbg.__wbg_drawArrays_aaa2fa80ca85e04c=function(e,t,n,r){a(e).drawArrays(t>>>0,n,r)},i.wbg.__wbindgen_throw=function(e,t){throw new Error(s(e,t))},i.wbg.__wbindgen_module=function(){return g(e.__wbindgen_wasm_module)},i.wbg.__wbg_startWorkers_04f63eca19916b8f=function(e,t,n){return g((0,r.Q)(c(e),c(t),x.__wrap(n)))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),i.wbg.memory=_||new WebAssembly.Memory({initial:17,maximum:16384,shared:!0});const{instance:b,module:u}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,i);return o=b.exports,e.__wbindgen_wasm_module=u,o.__wbindgen_start(),o}},275:(e,t,n)=>{e.exports=n.p+"f8e9694ea09af0658753.wasm"}}]);